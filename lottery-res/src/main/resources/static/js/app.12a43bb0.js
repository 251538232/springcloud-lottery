(function(e){function t(t){for(var r,a,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)a=i[l],s[a]&&d.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={11:0},s={11:0},o=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{0:"cab8b2d0",1:"f37a5722",2:"edb41977",3:"4658c376",4:"6ba1c7c0",5:"d4776fcd",6:"66f9f966",7:"dce871f1",8:"d48a30a0",9:"65e5f2e6"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{0:"9aadab26",1:"78a32a26",2:"92990169",3:"b0d9804b",4:"89d63114",5:"edf759b6",6:"138b971b",7:"421e2525",8:"f5ef7389",9:"972d25f3"}[e]+".css",a=u.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var i=s[o],c=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(c===r||c===a))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){i=l[o],c=i.getAttribute("data-href");if(c===r||c===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.request=r,n(s)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){a[e]=0}));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,n){r=s[e]=[t,n]});t.push(r[2]=o);var c,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e),c=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,n[1](o)}s[e]=void 0}};var f=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,l.appendChild(d)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/res/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=l;o.push([5,10]),n()})({5:function(e,t,n){e.exports=n("Vtdi")},"6Z4+":function(e,t,n){"use strict";var r=n("Mier"),a=n.n(r);a.a},"8z7e":function(e,t,n){},"9n5o":function(e,t,n){},Mier:function(e,t,n){},NcQQ:function(e,t,n){"use strict";var r=n("9n5o"),a=n.n(r);a.a},Obhw:function(e,t,n){},"U7N/":function(e,t,n){"use strict";var r=n("Obhw"),a=n.n(r);a.a},UOYO:function(e,t,n){"use strict";var r=n("vDqi"),a=n.n(r),s=n("s4NR"),o=n.n(s),i=a.a.create({baseURL:"/info",transformRequest:[function(e){return e=o.a.stringify(e),e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}});i.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),i.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器错误(500)";break;default:e.message="连接出错(".concat(e.response.status,")!")}else e.message="连接服务器失败!";return Promise.reject(e)});var u=a.a.create({baseURL:"/user",transformRequest:[function(e){return e=o.a.stringify(e),e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}});u.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),u.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器错误(500)";break;default:e.message="连接出错(".concat(e.response.status,")!")}else e.message="连接服务器失败!";return Promise.reject(e)});var c=a.a.create({baseURL:"/order",transformRequest:[function(e){return e=o.a.stringify(e),e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}});c.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),c.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器错误(500)";break;default:e.message="连接出错(".concat(e.response.status,")!")}else e.message="连接服务器失败!";return Promise.reject(e)});var l={info:i,user:u,order:c};function d(e){var t="/history";l.info.get(t).then(function(t){return e(t.data)})}function f(e,t,n){var r="/login",a={email:e,password:t};l.user.post(r,a).then(function(e){return n(e.data)})}function m(e,t,n){var r="/save",a={uid:e,carts:t};l.order.post(r,a).then(function(e){return n(e.data)})}t["a"]={loadHistory:d,login:f,saveOrder:m}},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm");var r=n("Kw5r"),a=n("jE9Z"),s=n("L2JU"),o=n("HNVb"),i=n.n(o),u=n("UOYO"),c={data:null},l={historyList:function(e){return null==e.data?[]:e.data.content}},d={loadHistory:function(e){var t=e.commit;u["a"].loadHistory(function(e){t("setHistories",e)})}},f={setHistories:function(e,t){e.data=t}},m={state:c,getters:l,actions:d,mutations:f},p={user:null},h={isLogin:function(e){return null!=e.user},user:function(e){return e.user}},b={loadLocalUser:function(e){var t=e.commit,n=r["a"].ls.get("user",null);t("setUser",n)},login:function(e,t){var n=e.commit,a=t.email,s=t.password;u["a"].login(a,s,function(e){1==e.flag&&(n("setUser",e.data),r["a"].ls.set("user",e.data))})},logout:function(e){var t=e.commit;r["a"].ls.clear("user"),t("setUser",null)}},g={setUser:function(e,t){e.user=t}},v={state:p,getters:h,actions:b,mutations:g},y={selectedTab:0,enableTab:!0},w={selectedTab:function(e){return e.selectedTab},enableTab:function(e){return e.enableTab}},T={selectTab:function(e,t){var n=e.commit;n("setSelectedTab",t)},enableTab:function(e,t){var n=e.commit;n("enableTab",t)}},x={setSelectedTab:function(e,t){e.selectedTab=t},enableTab:function(e,t){e.enableTab=t}},O={state:y,getters:w,actions:T,mutations:x},k=(n("rGqo"),{all:[]}),L={cartCount:function(e){return e.all.length},carts:function(e){return e.all},cartsPayMoney:function(e){var t=0;return e.all.forEach(function(e){t+=parseInt(e.count)}),2*t}},P={loadCart:function(e){var t=e.commit,n=e.getters,a=n.user.uid,s=r["a"].ls.get(a+"_carts",[]);t("setCarts",{uid:a,carts:s})},cartAdd:function(e,t){var n=e.commit,r=e.getters,a=t.redBalls,s=t.blueBall,o=t.count,i="",u=s;a.forEach(function(e,t){i+=e,t!=a.length-1&&(i+=",")});var c=r.user.uid,l={red:i,blue:u,count:o,uid:c};n("cartAdd",l)},cartRemove:function(e,t){var n=e.commit,r=e.getters,a=r.user.uid;n("cartRemove",{uid:a,cart:t})},cartSaveToOrder:function(e,t){var n=e.commit,r=e.getters,a=r.user.uid,s=r.carts;console.log(s);var o=JSON.stringify(s);console.log(o),u["a"].saveOrder(a,o,function(e){t(e),n("setCarts",{uid:a,carts:[]})})}},j={setCarts:function(e,t){var n=t.uid,a=t.carts;e.all=a,r["a"].ls.set(n+"_carts",e.all)},cartAdd:function(e,t){var n=t.red,a=t.blue,s=t.count,o=t.uid;e.all.push({red:n,blue:a,count:parseInt(s)}),r["a"].ls.set(o+"_carts",e.all)},cartRemove:function(e,t){var n=t.cart,a=t.uid,s=e.all.indexOf(n);e.all.splice(s,1),r["a"].ls.set(a+"_carts",e.all)}},_={state:k,getters:L,actions:P,mutations:j};r["a"].use(s["a"]);var C={namespace:"",name:"ls",storage:"local"};i.a.install(r["a"],C);var N=new s["a"].Store({modules:{History:m,User:v,UI:O,Cart:_},strict:!1}),S=function(){return Promise.resolve().then(n.bind(null,"ibH7"))},I=function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"kQFd"))},U=function(){return n.e(8).then(n.bind(null,"fWKI"))},$=function(){return n.e(7).then(n.bind(null,"0SLs"))},H=function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"si+N"))},E=function(){return n.e(5).then(n.bind(null,"/10z"))},R=function(){return n.e(4).then(n.bind(null,"SDaB"))},q=function(){return n.e(3).then(n.bind(null,"7vKH"))},B=function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"QEDW"))},A=function(){return n.e(1).then(n.bind(null,"Vlk9"))},K=[{name:"index",path:"/",component:S,children:[{name:"home",path:"home",component:I},{name:"shopping",path:"shopping",component:U},{name:"me",path:"me",component:$}]},{name:"lotteryDetail",path:"/lottery/detail",component:H},{name:"userLogin",path:"/user/login",component:E},{name:"userRegister",path:"/user/register",component:R},{name:"userReset",path:"/user/reset",component:q},{name:"cart",path:"/cart",component:B},{name:"orderDetail",path:"/order/detail",component:A}],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.transitionName}},[n("router-view")],1)],1)},Q=[],D=(n("KKXr"),n("8z7e"),n("ibH7")),J={name:"app",components:{IndexPage:D["default"]},data:function(){return{transitionName:"slide-right"}},watch:{$route:function(e,t){var n=e.path.split("/").length,r=t.path.split("/").length;this.transitionName=n<r?"slide-left":"slide-right"}},created:function(){this.$store.dispatch("loadLocalUser")}},V=J,z=(n("U7N/"),n("KHd+")),Y=Object(z["a"])(V,M,Q,!1,null,"1daf9c50",null),Z=Y.exports;n("0G0I");r["a"].config.productionTip=!1,r["a"].use(a["a"]);var G=new a["a"]({routes:K});new r["a"]({store:N,router:G,render:function(e){return e(Z)}}).$mount("#app")},ibH7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index-container"},[n("div",{staticClass:"index-content"},[n("transition",{attrs:{name:e.transitionName}},[n("router-view")],1)],1),n("transition",{attrs:{name:"slide-down"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.enableTab,expression:"enableTab"}],staticClass:"index-footer"},[n("tab-bar",{attrs:{index:e.selectedTab},on:{onTabSelected:e.onTabSelected}})],1)])],1)},a=[],s=n("yT7P"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-root"},[n("div",{staticClass:"tab-item",class:0==e.selectedIndex?"selected":"",on:{click:function(t){e.clickItem(0)}}},[n("icon",{attrs:{name:"home",scale:"1.8"}}),n("span",[e._v("首页")])],1),n("div",{staticClass:"tab-item",class:1==e.selectedIndex?"selected":"",on:{click:function(t){e.clickItem(1)}}},[n("icon",{attrs:{name:"shopping-bag",scale:"1.8"}}),n("span",[e._v("选号")])],1),n("div",{staticClass:"tab-item",class:2==e.selectedIndex?"selected":"",on:{click:function(t){e.clickItem(2)}}},[n("icon",{attrs:{name:"user",scale:"1.8"}}),n("span",[e._v("我")])],1),n("div",{staticStyle:{display:"none"}},[e._v(e._s(e.index))])])},i=[],u=(n("xfY5"),n("CHRH")),c={name:"TabBar",components:{Icon:u["a"]},props:{index:{require:!1,type:Number,default:0}},data:function(){return{selectedIndex:0}},watch:{index:function(e,t){this.selectedIndex=e}},mounted:function(){},methods:{clickItem:function(e){this.selectedIndex=e,this.$emit("onTabSelected",e)}}},l=c,d=(n("NcQQ"),n("KHd+")),f=Object(d["a"])(l,o,i,!1,null,"a8c537ba",null),m=f.exports,p=n("L2JU"),h={name:"HomePage",components:{TabBar:m},data:function(){return{title:"黑马彩票",transitionName:"slide-left"}},created:function(){var e=this.selectedTab;0==e?this.$router.push("home"):1==e?this.isLogin?this.$router.push("shopping"):this.$router.push({name:"userLogin"}):2==e&&(this.isLogin?this.$router.push("me"):this.$router.push({name:"userLogin"}))},computed:Object(s["a"])({},Object(p["c"])({isLogin:"isLogin",selectedTab:"selectedTab",enableTab:"enableTab"})),methods:{onTabSelected:function(e){0==e?this.$router.push("home"):1==e?this.isLogin?this.$router.push("shopping"):this.$router.push({name:"userLogin"}):2==e&&(this.isLogin?this.$router.push("me"):this.$router.push({name:"userLogin"}))}}},b=h,g=(n("6Z4+"),Object(d["a"])(b,r,a,!1,null,"801ee4ce",null));t["default"]=g.exports}});
//# sourceMappingURL=app.12a43bb0.js.map